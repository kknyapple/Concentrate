# Concentrate-StopWatch

## ëª©ì°¨
[1. í”„ë¡œì íŠ¸ ì†Œê°œ](#í”„ë¡œì íŠ¸-ì†Œê°œ)

[2. ì‚¬ìš© ì˜ˆì œ](#ì‚¬ìš©-ì˜ˆì œ)
- ê³µë¶€ ì‹œê°„ ì¸¡ì •
- ì§‘ì¤‘ ì‹œê°„, ì‰¬ëŠ” ì‹œê°„ ì¸¡ì •
- ê°„ë‹¨í•œ ë©”ëª¨ ì‘ì„±
- ì´ ê³µë¶€ ì‹œê°„ ê¸°ë¡

[3. Issue](#issue)
- [ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ì´ ì‹œê°„](#1.-ìƒˆë¡œê³ ì¹¨-í›„-ì´-ì‹œê°„-ëˆ„ì í•˜ê¸°(11/29))
- [ìŠ¤í†±ì›Œì¹˜ ì‹œê°„ì´ ëŠë¦¬ê²Œ ê°€ëŠ” í˜„ìƒ](#7.-ìŠ¤í†±ì›Œì¹˜-ì‹œê°„ì´-ëŠë¦¬ê²Œ-ê°€ëŠ”-í˜„ìƒ(12/5---12/9))
- [useSetTime custom hook](#12.-usesetime-hook-ì œì‘(3/16))

## âœ¨í”„ë¡œì íŠ¸ ì†Œê°œ

> ê³µë¶€ ì‹œê°„ ì¸¡ì •ì„ ìœ„í•œ ìŠ¤í†±ì›Œì¹˜

í•˜ë£¨ ë‹¨ìœ„ë¡œ ì´ ê³µë¶€ ì‹œê°„ì„ ì¸¡ì •í•´ì¤ë‹ˆë‹¤. ìº˜ë¦°ë”ì— ë‚ ì§œì™€ í•¨ê»˜ ê³µë¶€ ì‹œê°„ ì •ë„ì— ë”°ë¥¸ ìƒ‰ê¹”ê³¼ ê³µë¶€ ì‹œê°„ì„ í‘œì‹œí•´ ì¤ë‹ˆë‹¤.

## ğŸ“„ì‚¬ìš© ì˜ˆì œ

### 1ï¸. ê³µë¶€ ì‹œê°„ ì¸¡ì •

![ì‹œê°„ì¸¡ì •](https://user-images.githubusercontent.com/72698829/225727451-3735a8e0-3ead-4269-9a87-b99ab5dbab18.gif)
ì‹œì‘ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì‹œê°„ ì¸¡ì •ì´ ì‹œì‘ë©ë‹ˆë‹¤.

### 2ï¸. ì§‘ì¤‘ ì‹œê°„, ì‰¬ëŠ” ì‹œê°„ ì¸¡ì •

![ì‰¬ëŠ”ì‹œê°„](https://user-images.githubusercontent.com/72698829/225727665-39ad02b0-2657-4188-ac7e-38348025938b.gif)
ì¼ì‹œì •ì§€ ë²„íŠ¼ê³¼ ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼ìœ¼ë¡œ ì§‘ì¤‘ ì‹œê°„ê³¼ ì‰¬ëŠ” ì‹œê°„ì„ ì¸¡ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 3ï¸. ê°„ë‹¨í•œ ë©”ëª¨ ì‘ì„±

![ë©”ëª¨ì‘ì„±](https://user-images.githubusercontent.com/72698829/225727479-a17bebe2-e5a7-4e18-9470-32cdef591290.gif)
ê³µë¶€ ëª©í‘œë‚˜ ê³µë¶€ ê³¼ëª© ë“±ì˜ ê°„ë‹¨í•œ ë©”ëª¨ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. + ë²„íŠ¼ì„ ëˆ„ë¥´ê³  ë©”ëª¨ ì‘ì„± ë’¤ ì…ë ¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì €ì¥ë©ë‹ˆë‹¤. ì €ì¥ëœ ë©”ëª¨ë¥¼ ëˆ„ë¥´ë©´ ì‚­ì œë©ë‹ˆë‹¤.

### 4ï¸. ì´ ê³µë¶€ ì‹œê°„ ê¸°ë¡

![ì‹œê°„ê¸°ë¡](https://user-images.githubusercontent.com/72698829/225727490-b5ae8a48-78fc-48b9-ac17-d5b52389d762.gif)
ì‹œê°„ ì¸¡ì • í™”ë©´ì—ì„œ ì •ì§€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìë™ìœ¼ë¡œ ì‹œê°„ì´ ê¸°ë¡ë©ë‹ˆë‹¤. ì‹œê°„ ì •ë„ì— ë”°ë¥¸ ìƒ‰ê¹”ê³¼ ì†Œìˆ˜ 3ì§¸ìë¦¬ê¹Œì§€ í‘œì‹œëœ ì‹œê°„ì„ ìº˜ë¦°ë”ì— í‘œì‹œí•´ ì¤ë‹ˆë‹¤.

## Issue

### 1. ìƒˆë¡œê³ ì¹¨ í›„ ì´ ì‹œê°„ ëˆ„ì í•˜ê¸° (11/29)

- localstorage í™œìš©
    
    ```jsx
    export const studyHour = atom({
      key: "studyHour",
      default: Number(localStorage.getItem("hour")) ?? 0,
    });
    
    export const studyMinute = atom({
      key: "studyMinute",
      default: Number(localStorage.getItem("minute")) ?? 0,
    });
    
    export const studySecond = atom({
      key: "studySecond",
      default: Number(localStorage.getItem("second")) ?? 0,
    });
    ```
    
    ```jsx
    const hour = useRecoilValue(studyHour);
    const minute = useRecoilValue(studyMinute);
    const second = useRecoilValue(studySecond);
    
    const changeLocalTime = () => {
        localStorage.setItem("hour", hour);
        localStorage.setItem("minute", minute);
        localStorage.setItem("second", second);
      };
    ```
    
    atomì— ì´ ì‹œê°„ì˜ ì‹œ, ë¶„, ì´ˆë¥¼ localstorageì— ì €ì¥í•œë‹¤. ìƒˆë¡œê³ ì¹¨ í•˜ë©´ localstorageì— ìˆëŠ”  ì‹œê°„ì„ í™œìš©í•˜ì—¬ ëˆ„ì  ì‹œê°„ì„ í‘œì‹œí•´ ì¤€ë‹¤.
    

### 2. Dateì—ì„œ month ì¶œë ¥ ì˜¤ë¥˜ (11/29)

- month + 1
    
    getMonth(); ì˜ ë°˜í™˜ ê°’ì´ 0~11ê¹Œì§€ ì´ê¸° ë•Œë¬¸
    

### 3. ë©”ëª¨ ì‚­ì œ ì‹œ ìƒê¸°ëŠ” ì˜¤ë¥˜ (12/2)

- ë©”ëª¨ì— ëœë¤ id ì ìš©
    
    ```jsx
    let newID = function () {
      return Math.random().toString(36).substr(2, 16);
    };
    
    return (
      <input
        onChange={(e) => {
        setContent({ id: newID(), title: e.target.value });
        }}
      />
    );
    
    ```
    
- filterì„ ì´ìš©í•´ ë©”ëª¨ ì‚­ì œ
    
    ```jsx
    <MemoItem
      onClick={() => {
      const cleanMemo = memoList.filter((item) => item.id !== memo.id);
      localStorage.setItem("memo", JSON.stringify(cleanMemo));
      setMemoList(cleanMemo);
      }}
     > ğŸ”¥ {memo.title}
     </MemoItem>
    ```
    

### 4. ìº˜ë¦°ë” ë°ì´í„°ì— ë‚ ì§œ ë° ëˆ„ì  ì‹œê°„ ì €ì¥ (12/2)

- localStorage í™œìš©
    
    ```jsx
    export const calendarData = atom({
      key: "calendarData",
      default: JSON.parse(localStorage.getItem("key")) ?? [],
    });
    ```
    
    ```jsx
    const RecordComponent = () => {
      let data = JSON.parse(localStorage.getItem("key"));
    
      return (
        <RecordBox>
          <ResponsiveCalendar
            data={data} // ...
          />
      )
    }
    ```
    
    atomì— key(ë‚ ì§œ, ëˆ„ì  ì‹œê°„)ë¥¼ localstorageì— ì €ì¥í•œë‹¤. ê·¸ í›„ ìº˜ë¦°ë”ì— ë„£ì–´ì¤€ë‹¤.
    

### 5. ë‹¤ìŒë‚  ìº˜ë¦°ë” ì´ˆê¸°í™” ë¬¸ì œì  (12/2)

- filter í™œìš©
    
    ```jsx
    const changeLocalKey = () => {
      const cleanTimeData = timeData.filter((data) => data.day !== today);
      let copy = [...cleanTimeData];
      copy.push({ value: time, day: today });
      setTimeData(copy);
      localStorage.setItem("key", JSON.stringify(copy));
    };
    ```
    
    ì˜¤ëŠ˜ ë‚ ì§œì™€ ë§ˆì§€ë§‰ ê³µë¶€ ë‚ ì§œê°€ ê°™ìœ¼ë©´ ë°ì´í„° ì‚­ì œ í›„ ë‹¤ì‹œ ì €ì¥í•œë‹¤.
    

### 6. ë‹¤ìŒë‚  ì‹œê°„ ì´ˆê¸°í™” (12/8)

- ì˜¤ëŠ˜ ë‚ ì§œì™€ ë§ˆì§€ë§‰ ê¸°ë¡ ë‚ ì§œë¥¼ ë¹„êµ í›„ ë‹¤ë¥´ë©´ ë¦¬ì…‹
    
    ```jsx
    const reset = () => {
        resetStudyTime();
        resetLocalTime();
        resetCurrentTime();
      };
    
      useEffect(() => {
        let length = JSON.parse(localStorage.getItem("key")).length;
        let lastStudy = JSON.parse(localStorage.getItem("key"))[length - 1].day;
        let today = `${year}-${month}-${day}`;
        setToday(`${year}-${month}-${day}`);
    
        if (localStorage.getItem("key")) {
          let savedTime =
            currentStartTime -
            second * 1000 -
            minute * 1000 * 60 -
            hour * 1000 * 60 * 60;
    
          lastStudy === today ? setCurrentStartTime(savedTime) : reset();
      }
        }, []);
    ```
    
    ë§ˆì§€ë§‰ ê¸°ë¡ ë‚ ì§œê°€ ì˜¤ëŠ˜ì´ ì•„ë‹Œ ê²½ìš° ëˆ„ì  ì‹œê°„, ë²„íŠ¼ì„ ëˆ„ë¥¸ ì‹œê°„, localstorageì˜ ì‹œ, ë¶„, ì´ˆë¥¼ ë¦¬ì…‹ í•´ì¤€ë‹¤.
    

### 7. ìŠ¤í†±ì›Œì¹˜ ì‹œê°„ì´ ëŠë¦¬ê²Œ ê°€ëŠ” í˜„ìƒ(12/5 - 12/9)

- Date.nowë¥¼ ì´ìš©í•´ ë²„íŠ¼ì„ í´ë¦­í•œ ì‹œê°„ì„ ì €ì¥í•˜ì—¬ í•´ê²°

### 8. ëˆ„ì  ê¸°ë¡ ì‹œê°„ ë©ˆì¶”ëŠ” í˜„ìƒ(12/11)

- ëˆ„ì  ì‹œê°„ useEffect ì¡°ê±´ ìˆ˜ì •
    
    ```jsx
    useEffect(() => {
      if (pass === true) {
        let timerId = setTimeout(() => {
        startTotalTime();
      }, 1000);
    
      return () => clearTimeout(timerId);
      }
    }, [start, pass, second, minute, hour]);
    ```
    

### 9. ì¼ì‹œì •ì§€ ë²„íŠ¼ ëˆ„ë¥´ê³  ì •ì§€ ë²„íŠ¼ ëˆ„ë¥´ë©´ ëˆ„ì  ì‹œê°„ ì˜¤ë¥˜(3/16)

- ì •ì‹œ ë²„íŠ¼ ë¹„í™œì„±í™”
    
    ```jsx
    const StopWatchStopComponent = () => {
      return (
        <>{pass ? <Stop onClick={stopOnClickHandler}>â– </Stop> : <Stop>â– </Stop>}</>
      );
    };
    ```
    

### 10. ë²„íŠ¼ ëˆ„ë¥´ë©´ 1ì´ˆ ë’¤ ì‹œì‘(3/16)

- ì •ì‹œ ë²„íŠ¼ ë¹„í™œì„±í™”
    
    ```jsx
    useEffect(() => {
        if (pass === true) {
          startTotalTime();
          let timerId = setTimeout(() => {
            startTotalTime();
          }, 1000);
    
          return () => clearTimeout(timerId);
        }
      }, [pass, second]);
    ```
    

### 11. ìƒˆë¡œê³ ì¹¨ í•´ë„ ì‹œê°„ ìœ ì§€(3/16)

- íƒ€ì´ë¨¸ ì‹¤í–‰ ì¤‘ ë°”ë¡œ localstorage ì €ì¥
    
    ```jsx
    // MainComponent.js
    
    useEffect(() => {
        if (pass === true) {
          startTotalTime();
          changeLocalKey();
          changeLocalTime();
          let timerId = setTimeout(() => {
            startTotalTime();
            changeLocalKey();
            changeLocalTime();
          }, 1000);
    
          return () => clearTimeout(timerId);
        }
      }, [pass, second]);
    ```
    

### 12. useSetTime hook ì œì‘(3/16)

- useSetTime
    
    ```jsx
    const [hour, minute, second] = useSetTime(!pause, currentStartCTime);
    const [hour, minute, second] = useSetTime(pause, currentStartRTime);
    ```
    
    ```jsx
    import React, { useEffect, useState } from "react";
    
    const useSetTime = (condition, currentStartTime) => {
      const [hour, setHour] = useState(0);
      const [minute, setMinute] = useState(0);
      const [second, setSecond] = useState(0);
    
      const startConcentrateTime = () => {
        const now = new Date(Date.now() - currentStartTime);
    
        setSecond(now.getUTCSeconds());
        setMinute(now.getUTCMinutes());
        setHour(now.getUTCHours());
      };
    
      useEffect(() => {
        if (condition === true) {
          startConcentrateTime();
          let timerId = setTimeout(() => {
            startConcentrateTime();
          }, 1000);
    
          return () => clearTimeout(timerId);
        }
      }, [condition, second]);
    
      return [hour, minute, second];
    };
    
    export default useSetTime;
    ```
    

### 13. ì—°ë„ê°€ ë°”ë€Œë©´ ë™ì ìœ¼ë¡œ ì°¨íŠ¸ ë³€í™”(3/16)

- heightì— propsë¡œ ê°’ ì „ë‹¬
